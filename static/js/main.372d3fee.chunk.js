(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(23),r=a.n(o),c=(a(80),a(136)),s=a(34),i=a(135),m=a(11),u=function(e){return l.a.createElement(c.a,{bg:"dark",variant:"dark",expand:"lg",className:"gradient"},l.a.createElement(s.a,null,l.a.createElement(c.a.Brand,{href:"/"},"Grow "),l.a.createElement(c.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(c.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(i.a,{className:"me-auto"},l.a.createElement(m.b,{to:"/",className:"link"},"Home"),l.a.createElement(m.b,{Link:!0,to:"/plants-list",className:"link"},"My Plants"),l.a.createElement(m.b,{Link:!0,to:"/dashboard",className:"link"},"Dashboard"),l.a.createElement(m.b,{Link:!0,to:"/plants",className:"link"},"Plant Library"),l.a.createElement(m.b,{Link:!0,to:"/grow-zones",className:"link"},"Grow Zones"),l.a.createElement(m.b,{Link:!0,to:"/login",className:"link"},"Login"),l.a.createElement(m.b,{Link:!0,to:"/register",className:"link"},"Register")))))},p=a(4),d=a(21),E=a.n(d),h=a(35),f=a(8),b=a(2),g=a(7),v=a(132),j=a(55),k=a(72),w=a(28),S=a.n(w),y=function(e){var t=Object(p.f)(),a=Object(n.useState)({email:"",password:""}),o=Object(g.a)(a,2),r=o[0],c=o[1],i=Object(n.useState)(!1),u=Object(g.a)(i,2),d=u[0],w=u[1],y=Object(n.useState)(!1),O=Object(g.a)(y,2),z=O[0],T=O[1],N=Object(n.useState)(!0),L=Object(g.a)(N,2),C=(L[0],L[1],function(e){c(Object(b.a)({},r,Object(f.a)({},e.target.name,e.target.value)))}),x=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S.a.post("http://localhost:8000/sign-in/",{user:r,headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.token}}).then(function(e){e.data&&(localStorage.clear(),localStorage.setItem("token",e.data.user.token),localStorage.setItem("id",e.data.user.id)),w(!0),I()}).catch(function(e){c({email:"",password:""}),T(!0),localStorage.clear(),console.log(e)});case 3:e.sent;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=function(){d&&t("/dashboard")};return Object(n.useEffect)(function(){null!==localStorage.getItem("token")&&t("/dashboard")},[]),l.a.createElement(s.a,null,l.a.createElement("p",null," Let's get planting"),l.a.createElement(v.a,{style:{width:"20rem"}},l.a.createElement(v.a.Body,null,l.a.createElement(v.a.Title,null,"Log in"),!0===z&&l.a.createElement(j.a.Text,null," Cannot log in with credentials "),l.a.createElement(j.a,null,l.a.createElement(j.a.Group,{className:"mb-3",controlId:"formBasicEmail"},l.a.createElement(j.a.Label,null,"Email"),l.a.createElement(j.a.Control,{type:"email",name:"email",className:"user",value:r.email,placeholder:"Enter email",onChange:C})),l.a.createElement(j.a.Group,{className:"mb-3",controlId:"formBasicPassword"},l.a.createElement(j.a.Label,null,"Password"),l.a.createElement(j.a.Control,{type:"password",name:"password",className:"owner",value:r.password,placeholder:"Password",onChange:C})),l.a.createElement(j.a.Group,{className:"mb-3",controlId:"formLogin"},l.a.createElement(k.a,{variant:"primary",type:"submit",onClick:x},"Log In")),l.a.createElement(j.a.Group,{className:"mb-3",controlId:"formRegister"},l.a.createElement(j.a.Text,{className:"text-muted"},"No account? ",l.a.createElement(m.b,{to:"/register/"},"Register")," here"))))))},O=function(e){return l.a.createElement(s.a,null,l.a.createElement("h1",null," Welcome to Grow! "),l.a.createElement(y,null))},z=function(e){var t=Object(p.f)(),a=Object(n.useState)([]),o=Object(g.a)(a,2),r=(o[0],o[1]);return Object(n.useEffect)(function(){if(null===localStorage.getItem("token"))t("/");else{var e={"Content-Type":"application/json",Authorization:"Token "+localStorage.token};fetch("http://localhost:8000/plantslist/",{method:"GET",headers:e}).then(function(e){return e.json()}).then(function(e){console.log("plant search",e),r(e)})}},[]),l.a.createElement("div",null,l.a.createElement("h1",null," My Plants "))},T=(a(108),function(){var e=Object(p.f)(),t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)({email:"",password:""}),s=Object(g.a)(c,2),i=s[0],m=s[1],u=function(e){m(Object(b.a)({},i,Object(f.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S.a.post("http://localhost:8000/sign-up/",{user:i}).then(function(e){console.log(e),console.log("New user created"),r(!0),v()}).catch(function(e){console.log(e)});case 3:e.sent;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){return setTimeout(function(){e("/")},3e3)};return l.a.createElement("div",null,l.a.createElement("h1",null," Registration"),l.a.createElement(j.a,{onSubmit:d,style:{width:"20rem"}},l.a.createElement(j.a.Group,{className:"mb-3",controlId:"formEmail"},l.a.createElement(j.a.Label,null,"Email address"),l.a.createElement(j.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:i.email,onChange:u}),l.a.createElement(j.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(j.a.Group,{className:"mb-3",controlId:"formBasicPassword"},l.a.createElement(j.a.Label,null,"Password"),l.a.createElement(j.a.Control,{type:"password",placeholder:"Password",name:"password",value:i.password,onChange:u})),l.a.createElement(k.a,{variant:"primary",type:"submit"},"Submit"),l.a.createElement(j.a.Group,{className:o?"mb-3 review-text-visible":"mb-3 review-text-invisible",controlId:"userCreated"},l.a.createElement(j.a.Label,null,"New user created. Redirecting to Login "))))}),N=function(e){var t=Object(p.f)(),a=Object(n.useState)({name:"",zipcode:"",zone:""}),o=Object(g.a)(a,2),r=o[0],c=o[1],i={"Content-Type":"application/json",Authorization:"Token "+localStorage.token};Object(n.useEffect)(function(){null===localStorage.getItem("token")?t("/"):fetch("http://localhost:8000/profile-view/"+localStorage.id+"/",{method:"GET",headers:i}).then(function(e){return e.json()}).then(function(e){console.log("dashboard",localStorage.token),c({name:e.name,zipcode:e.zipcode,zone:e.zone})})},[]);return l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement("h1",null,"Dashboard"),l.a.createElement("h4",null," hello ",r.name),l.a.createElement(z,null),l.a.createElement(m.b,{to:"/profile",className:"btn btn-primary"}," Edit profile"),l.a.createElement(k.a,{onClick:function(e){e.preventDefault(),localStorage.token&&fetch("http://localhost:8000/sign-out/",{method:"DELETE",headers:i}).then(function(e){return e.json()}).then(function(e){console.log(e),localStorage.clear(),t("/")})}}," Logout")))},L=a(137),C=function(e){var t=Object(p.f)(),a=Object(n.useState)(!1),o=Object(g.a)(a,2),r=o[0],c=o[1],i=Object(n.useState)({id:"",name:"",zipcode:"",zone:""}),u=Object(g.a)(i,2),d=u[0],v=u[1],w=function(e){v(Object(b.a)({},d,Object(f.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(h.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S.a.get("https://plant-hardiness-zone.p.rapidapi.com/zipcodes/"+d.zipcode,{headers:{"x-rapidapi-host":"plant-hardiness-zone.p.rapidapi.com","x-rapidapi-key":"009b2f2b15mshc466e9a901294ecp184d26jsn17c2728a7505"}}).then(function(e){e.data&&v({zone:e.data.hardiness_zone})}).catch(function(e){console.log(e)});case 3:e.sent;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),null!==localStorage.getItem("token")&&(a={"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+localStorage.token},n=localStorage.getItem("id"),fetch("http://localhost:8000/profile-view/".concat(localStorage.id,"/"),{method:"POST",headers:a,body:JSON.stringify({id:parseInt(n),name:d.name,zipcode:parseInt(d.zipcode),zone:d.zone})}).then(function(e){e&&console.log(e)}).catch(function(e){console.log(e)}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){null===localStorage.getItem("token")?t("/"):fetch("http://localhost:8000/profile-view/"+localStorage.id+"/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log("api call local storage",localStorage.token),v({id:localStorage.id,name:e.name,zipcode:e.zipcode,zone:e.zone})})},[]),l.a.createElement(s.a,null,l.a.createElement("h1",null," User Profile"),l.a.createElement("h4",null," Name: ",d.name),l.a.createElement("h4",null," Zip Code: ",d.zipcode),l.a.createElement("h4",null," Growing Zone: ",d.zone),l.a.createElement(k.a,{variant:"primary",onClick:function(){return c(!0)}},"Edit"),l.a.createElement(L.a,{show:r,onHide:function(){return c(!1)},backdrop:"static",keyboard:!1},l.a.createElement(L.a.Header,{closeButton:!0},l.a.createElement(L.a.Title,null,"Edit Information")),l.a.createElement(L.a.Body,null,l.a.createElement(j.a,{onSubmit:O},l.a.createElement(j.a.Group,{className:"mb-3"},l.a.createElement(j.a.Label,null,"Name"),l.a.createElement(j.a.Control,{type:"text",name:"name",value:d.name,onChange:w})),l.a.createElement(j.a.Group,{className:"mb-3"},l.a.createElement(j.a.Label,null,"Zip Code"),l.a.createElement(j.a.Control,{type:"text",name:"zipcode",value:d.zipcode,onChange:w})),l.a.createElement(j.a.Group,{className:"mb-3"},l.a.createElement(j.a.Label,null,"Grow Zone"),l.a.createElement(k.a,{variant:"secondary",type:"button",onClick:y},"Search"),l.a.createElement(j.a.Control,{type:"text",name:"zone",value:d.zone,onChange:w})),l.a.createElement(k.a,{variant:"primary",type:"submit"},"Submit")))),l.a.createElement(m.b,{to:"/dashboard",className:"btn btn-primary"},"Back"))},x=a(134),I=function(e){var t=e.plantList.map(function(e,t){return l.a.createElement(v.a,{className:"card",key:t},l.a.createElement(v.a.Body,null,l.a.createElement(v.a.Title,null," ",e.name),l.a.createElement(v.a.Text,null,l.a.createElement(x.a,null,"Sow before last frost:  ",e.days_to_sow," days "),l.a.createElement(x.a,null,"Sow indoors: ",e.start_indoor.toString())),l.a.createElement(v.a.Text,{onClick:function(a){return function(e,t,a){e.preventDefault();var n=t,l=localStorage.id;if(null!==localStorage.getItem("token")){var o={"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+localStorage.token};localStorage.getItem("id"),fetch("http://localhost:8000/plants-list/",{method:"POST",headers:o,body:JSON.stringify({user:l,plant:n})}).then(function(e){e&&console.log(e)}).catch(function(e){console.log(e)})}}(a,t,e.name)}},"Add to List")))});return l.a.createElement("div",null,t)},G=function(e){var t=Object(p.f)(),a=Object(n.useState)([]),o=Object(g.a)(a,2),r=o[0],c=o[1];return Object(n.useEffect)(function(){if(null===localStorage.getItem("token"))t("/");else{var e={"Content-Type":"application/json",Authorization:"Token "+localStorage.token};fetch("http://localhost:8000/plants/",{method:"GET",headers:e}).then(function(e){return e.json()}).then(function(e){console.log("plant search",e),c(e)})}},[]),l.a.createElement(s.a,null,l.a.createElement("h1",null," Plant Library"),l.a.createElement(I,{plantList:r}))},A=function(e){console.log("zonesList",e.zonesList);var t=e.zonesList.map(function(e,t){return l.a.createElement(v.a,{className:"card",key:t,style:{width:"20rem"}},l.a.createElement(v.a.Body,null,l.a.createElement(v.a.Title,null," ",e.zone_name),l.a.createElement(v.a.Subtitle,null," Lowest temp ",e.lowest_temp),l.a.createElement(v.a.Text,null,l.a.createElement(x.a,null," Average Last Frost: ",e.average_last_frost," "),l.a.createElement(x.a,null," Average First Frost: ",e.average_first_frost))))});return l.a.createElement("div",null,t)},P=function(e){var t=Object(p.f)(),a=Object(n.useState)([]),o=Object(g.a)(a,2),r=o[0],c=o[1];return Object(n.useEffect)(function(){if(null===localStorage.getItem("token"))t("/");else{var e={"Content-Type":"application/json",Authorization:"Token "+localStorage.token};fetch("http://localhost:8000/grow-zone/",{method:"GET",headers:e}).then(function(e){return e.json()}).then(function(e){c(e)})}},[]),l.a.createElement(s.a,null,l.a.createElement("h1",null," Grow Zones"),l.a.createElement(A,{zonesList:r}))},B=function(){return l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/dashboard",element:l.a.createElement(N,null)}),l.a.createElement(p.a,{path:"/plants-list",element:l.a.createElement(z,null)}),l.a.createElement(p.a,{path:"/register",element:l.a.createElement(T,null)}),l.a.createElement(p.a,{path:"/login",element:l.a.createElement(y,null)}),l.a.createElement(p.a,{path:"/profile",element:l.a.createElement(C,null)}),l.a.createElement(p.a,{path:"/plants",element:l.a.createElement(G,null)}),l.a.createElement(p.a,{path:"/grow-zones",element:l.a.createElement(P,null)}),l.a.createElement(p.a,{path:"/",element:l.a.createElement(O,null)}))};var _=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement(u,null)),l.a.createElement("main",null,l.a.createElement(B,null)),l.a.createElement("footer",null))};a(110),a(112);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(m.a,null,l.a.createElement(_,null))),document.getElementById("root"))},75:function(e,t,a){e.exports=a(131)},80:function(e,t,a){}},[[75,2,1]]]);
//# sourceMappingURL=main.372d3fee.chunk.js.map